# https://taskfile.dev

version: '3'

tasks:
  default:
    internal: true
    desc: Install required cli tools.
    cmds:
      - task: kubectl
      - task: flux

  kubectl:
    internal: true
    cmds:
      - sudo apt-get -y update
      - sudo apt-get install -y kubectl
    status:
      - test $(command -v kubectl)

  flux:
    internal: true
    cmds:
      - curl -s https://fluxcd.io/install.sh | sudo bash
    status:
      - test $(command -v flux)
      
